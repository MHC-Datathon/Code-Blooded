(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8364)}])},8364:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(7876),r=a(4232),l=a(1198),n=a.n(l);function i(e){let{type:t,monthYear:a,overlay:l}=e,i=(0,r.useRef)(null),o=(0,r.useRef)(null),[c,d]=(0,r.useState)(0);return(0,r.useEffect)(()=>{if(o.current)return;let e=new(n()).Map({container:i.current,style:"https://api.maptiler.com/maps/winter-v2/style.json?key=kMAXKYXvnrmw9q7gqZW7",center:[-74.006,40.7128],zoom:11,attributionControl:!1,logoPosition:"bottom-right"});o.current=e,e.on("load",()=>{e.addSource("violations",{type:"geojson",data:"/violations.geojson",generateId:!0}),e.addSource("overlay-area",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[-73.99371276716278,40.77354631044223],[-73.95815743495902,40.758879659177346],[-73.97182631519334,40.72958050239625],[-73.97740530964424,40.710943277946356],[-74.01392948725831,40.700507864852696],[-74.01871454801953,40.70812883403552],[-74.01042115813762,40.75105673272185]]]}}]}}),e.addLayer({id:"overlay-area-layer",type:"fill",source:"overlay-area",layout:{visibility:"none"},paint:{"fill-color":"#ff0000","fill-opacity":.3}});let a=e.getSource("violations");fetch("/violations.geojson").then(e=>e.json()).then(e=>{e.features.forEach(e=>{if(!e.properties)return;let[t,,a]=e.properties.last_occurrence.split("/"),s=a.split(" ")[0];e.properties.monthYear="".concat(t,"/").concat(s)}),a.setData(e),d(1)}),e.addLayer({id:"violations-heatmap",type:"heatmap",source:"violations",minzoom:5,maxzoom:22,paint:{"heatmap-weight":.01,"heatmap-intensity":["interpolate",["linear"],["zoom"],0,.5,15,2],"heatmap-radius":["interpolate",["linear"],["zoom"],0,1,9,10,15,20],"heatmap-opacity":.6,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"royalblue",.4,"cyan",.6,"lime",.8,"yellow",1,"red"]},layout:{visibility:"visible"},filter:["==","type",t]})})},[]),(0,r.useEffect)(()=>{let e=o.current;e&&e.isStyleLoaded()&&(console.log(a),e.setFilter("violations-heatmap",["all",["==","violation_type",t],["==","monthYear",a]]),console.log(l),e.setLayoutProperty("overlay-area-layer","visibility",l?"visible":"none"))},[c,t,a,l]),(0,s.jsx)("div",{ref:i,className:"w-full h-screen"})}var o=a(4502),c=a(9241),d=a(9573);function u(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,d.QP)((0,c.$)(t))}function h(e){let{className:t,defaultValue:a,value:l,min:n=0,max:i=100,...c}=e,d=r.useMemo(()=>Array.isArray(l)?l:Array.isArray(a)?a:[n,i],[l,a,n,i]);return(0,s.jsxs)(o.bL,{"data-slot":"slider",defaultValue:a,value:l,min:n,max:i,className:u("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...c,children:[(0,s.jsx)(o.CC,{"data-slot":"slider-track",className:u("bg-white relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,s.jsx)(o.Q6,{"data-slot":"slider-range",className:u("bg-[#b2d8f3] absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(e,t)=>(0,s.jsx)(o.zi,{"data-slot":"slider-thumb",className:"border-white bg-black ring-ring/50 block w-4 h-4 shrink-0 rotate-45 border-3 transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}var m=a(4775),p=a(6076),f=a(2257),x=a(8725),b=a(5687),g=a.n(b);function v(e){let{...t}=e;return(0,s.jsx)(m.bL,{"data-slot":"select",...t})}function y(e){let{...t}=e;return(0,s.jsx)(m.WT,{"data-slot":"select-value",...t})}function j(e){let{className:t,size:a="default",children:r,...l}=e;return(0,s.jsxs)(m.l9,{"data-slot":"select-trigger","data-size":a,className:u(g().className,"border-black data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-md whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[r,(0,s.jsx)(m.In,{asChild:!0,children:(0,s.jsx)(p.A,{className:"size-4 opacity-100 text-white"})})]})}function w(e){let{className:t,children:a,position:r="popper",...l}=e;return(0,s.jsx)(m.ZL,{children:(0,s.jsxs)(m.UC,{"data-slot":"select-content",className:u(g().className,"bg-black  text-white data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md ","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...l,children:[(0,s.jsx)(k,{}),(0,s.jsx)(m.LM,{className:u("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(z,{})]})})}function N(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(m.q7,{"data-slot":"select-item",className:u("focus:bg-gray-500 focus:text-white [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(m.VF,{children:(0,s.jsx)(f.A,{className:"size-4 text-white"})})}),(0,s.jsx)(m.p4,{children:a})]})}function k(e){let{className:t,...a}=e;return(0,s.jsx)(m.PP,{"data-slot":"select-scroll-up-button",className:u("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(p.A,{className:"size-4"})})}function z(e){let{className:t,...a}=e;return(0,s.jsx)(m.wn,{"data-slot":"select-scroll-down-button",className:u("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(x.A,{className:"size-4"})})}function _(e){let{value:t,onChange:a}=e;return(0,s.jsxs)(v,{value:null!=t?t:"",onValueChange:a,children:[(0,s.jsx)(j,{className:"w-[160px]",children:(0,s.jsx)(y,{placeholder:"Select a month"})}),(0,s.jsxs)(w,{children:[(0,s.jsx)(N,{value:"MOBILE DOUBLE PARKED",children:"Double parking"}),(0,s.jsx)(N,{value:"MOBILE BUS LANE",children:"Bus lane"}),(0,s.jsx)(N,{value:"MOBILE BUS STOP",children:"Bus stop"})]})]})}var A=a(8295);function M(e){let{className:t,...a}=e;return(0,s.jsx)(A.bL,{"data-slot":"switch",className:u("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(A.zi,{"data-slot":"switch-thumb",className:u("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var C=a(5800),E=a.n(C);let B=["June 2024","July 2024","August 2024","September 2024","October 2024","November 2024","December 2024","January 2025","February 2025","March 2025","April 2025","May 2025","June 2025","July 2025","August 2025"],L=["06/2024","07/2024","08/2024","09/2024","10/2024","11/2024","12/2024","01/2025","02/2025","03/2025","04/2025","05/2025","06/2025","07/2025","08/2025"];function S(){let[e,t]=(0,r.useState)([0]),[a,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)("MOBILE BUS LANE"),[c,d]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"relative w-full ",children:[(0,s.jsx)(i,{type:n,monthYear:L[e[0]],overlay:c}),(0,s.jsx)("div",{className:"absolute bottom-26 left-4 w-45 bg-black h-12 text-white rounded-full flex justify-center items-center",children:(0,s.jsx)(_,{value:n,onChange:o})}),(0,s.jsx)("div",{className:"absolute bottom-40 left-8 text-black rounded-full flex justify-center items-center",children:(0,s.jsx)("span",{className:"".concat(E().className," text-lg font-medium"),children:" Violation type:"})}),(0,s.jsxs)("div",{className:"absolute bottom-12 left-4 w-70 gap-x-3 h-12 bg-black text-white rounded-full flex justify-center items-center",children:[(0,s.jsx)("span",{className:"".concat(E().className),children:"Congestion pricing overlay"}),(0,s.jsx)(M,{checked:c,onCheckedChange:e=>d(e)})]}),(0,s.jsx)("div",{className:"absolute top-4 right-4 ",children:(0,s.jsx)("button",{onClick:()=>l(!a),className:"bg-black text-white text-xl rounded-full w-32 h-12 cursor-pointer",children:(0,s.jsx)("span",{className:"".concat(E().className," text-lg"),children:"Analysis ↓"})})}),a&&(0,s.jsx)("div",{className:"absolute p-5 mt-2 h-7/8 top-16 right-4 text-lg w-110 overflow-auto bg-black text-white rounded-2xl custom-scroll",children:(0,s.jsxs)("span",{className:"".concat(E().className),children:[(0,s.jsx)("span",{className:"flex justify-center text-2xl",children:"Analysis:"}),"When congestion pricing began in Manhattan’s CBD in January 2025, the number of automated camera enforcement (ACE) violations jumped. Monthly averages went from about 6,000 to nearly 18,000. On the surface, that looks like a big spike. But much of this increase came from the MTA rolling out more cameras in 2025. Routes like the M2 and M4 only started recording violations once cameras were installed, so their “increase” isn’t about worse behavior—it’s about new enforcement.",(0,s.jsx)("br",{}),"Bus lanes: Down over 70%—a clear sign that cameras discouraged drivers from using them.",(0,s.jsx)("br",{}),"Bus stops: Up 61%.",(0,s.jsx)("br",{}),"Double-parking: Up 52%. This suggests fewer lane intrusions but more problems at curbs and bus stops.",(0,s.jsx)("br",{}),"Route Differences: In CBD-only routes (M34+, M42), Violations dropped (−35.7%). Partial-CBD routes (M2, M4, M15+, M101) exhibited mixed results. Some increased, but their numbers are skewed because of the date at which cameras were added.",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"flex justify-center text-xl",children:"Takeaway:"}),(0,s.jsx)("br",{}),"Violation counts are higher after congestion pricing, but that’s mostly due to expanded enforcement. The real behavioral change is that drivers are avoiding bus lanes while shifting to blocking stops and curbs instead.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"We highly recommend reading our paper for a more in depth analysis ",(0,s.jsx)("a",{className:"text-blue-400 underline",href:"/paper.pdf",target:"_blank",rel:"noopener noreferrer",children:"Here"})]})}),(0,s.jsx)("div",{className:"absolute bottom-30 text-center left-1/2 -translate-x-1/2 bg-black w-55 h-12 flex items-center justify-center rounded-full",children:(0,s.jsx)("span",{className:"".concat(E().className," text-2xl text-white font-medium"),children:B[e[0]]})}),(0,s.jsx)("div",{className:"absolute bottom-10 left-1/2 h-10 -translate-x-1/2 -translate-y-1/2 w-1/3 bg-black text-white text-3xl px-4 py-2 rounded-full flex items-center ",children:(0,s.jsx)(h,{value:e,onValueChange:t,max:14,step:1,className:"w-full"})})]})}}},e=>{e.O(0,[368,762,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);